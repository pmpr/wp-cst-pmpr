<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             61c032c4073ec             |
    |_______________________________________|
*/
 namespace Pmpr\Custom\Pmpr\Woocommerce\Subscription; use Pmpr\Common\Foundation\Decorator\DecoratorHook; use Pmpr\Common\Foundation\Decorator\DecoratorOption; use Pmpr\Common\Foundation\Decorator\DecoratorUser; use Pmpr\Common\Foundation\Decorator\Plugin\DecoratorWoocommerce; use Pmpr\Common\Foundation\Manipulate\ManipulateFormat; use Pmpr\Common\Foundation\Manipulate\Plugin\ManipulateWoocommerce; use Pmpr\Common\Foundation\Manipulate\Type\ManipulateString; class Manipulate extends ManipulateWoocommerce { const SUBSCRIPTION_TYPE = "\x73\x75\142\163\143\x72\151\160\164\x69\157\156"; const VARIABLE_SUBSCRIPTION_TYPE = "\166\x61\x72\x69\x61\142\x6c\145\x5f\x73\165\142\x73\143\x72\151\x70\x74\x69\x6f\156"; const SUBSCRIPTION_VARIATION_TYPE = "\163\165\x62\x73\x63\162\151\x70\x74\x69\157\156\x5f\166\x61\x72\151\141\x74\x69\x6f\x6e"; public static function owuaywucuaiyocum($product) { $aumscagymwyyicag = ''; $product = self::aqasygcsqysmmyke($product); if (!$product) { goto ooeausyowguqicuo; } $eyuymeqcioasuyyi = self::asaycagaeksiumkw($product); $ceywwemkggagsska = self::kymakekgqcqyqgmy("\x73\165\142\x73\143\162\151\x70\164\151\157\156\137\x70\x72\x69\143\x65", $product, 0); $aqsowwgoqccksmes = $ceywwemkggagsska ?? self::scgumisucgwskyqk($product); if (!($product->is_on_sale() && '' !== $eyuymeqcioasuyyi && $ceywwemkggagsska > $eyuymeqcioasuyyi)) { goto gkyawqqcmigqgaiq; } $aqsowwgoqccksmes = $eyuymeqcioasuyyi; gkyawqqcmigqgaiq: $aumscagymwyyicag = DecoratorHook::sscegwueamckwmcy("\x77\157\157\x63\157\155\155\145\162\x63\145\x5f\163\x75\x62\x73\x63\x72\151\160\164\x69\157\156\x73\x5f\x70\x72\x6f\144\165\x63\x74\137\x70\162\151\x63\145", $aqsowwgoqccksmes, $product); ooeausyowguqicuo: return $aumscagymwyyicag; } public static function aguoqkeigqooqwco($ymmgciamciieaysq = '') { static $kygiqocyyqukaikg = []; if (is_string($ymmgciamciieaysq)) { goto egyyiccaeeiooaua; } $ymmgciamciieaysq = ''; egyyiccaeeiooaua: $aamkqmkgsaqmcuao = DecoratorUser::iyouigcsiacgwksc(); if (isset($kygiqocyyqukaikg[$aamkqmkgsaqmcuao])) { goto scisgsyemmsekgos; } $kygiqocyyqukaikg[$aamkqmkgsaqmcuao] = self::gywoouyaaigoskoc(); scisgsyemmsekgos: $mayqaoqwuwwgssiy = DecoratorHook::sscegwueamckwmcy("\167\157\157\143\x6f\x6d\x6d\145\x72\x63\x65\137\163\165\142\163\143\162\151\160\x74\151\157\156\x5f\154\145\156\x67\164\150\163", $kygiqocyyqukaikg[$aamkqmkgsaqmcuao], $ymmgciamciieaysq); if (!$ymmgciamciieaysq) { goto cewmoqyysgsmuiya; } $mayqaoqwuwwgssiy = $mayqaoqwuwwgssiy[$ymmgciamciieaysq]; cewmoqyysgsmuiya: return $mayqaoqwuwwgssiy; } public static function qamkswcgsoeggmau($product) : int { return DecoratorHook::sscegwueamckwmcy("\167\x6f\157\x63\x6f\x6d\x6d\145\x72\x63\145\x5f\x73\165\142\x73\x63\162\x69\160\x74\151\157\x6e\x73\x5f\160\162\x6f\x64\x75\143\x74\x5f\154\145\x6e\x67\164\x68", self::kymakekgqcqyqgmy($product, "\x73\165\x62\163\143\x72\x69\x70\164\x69\157\156\x5f\154\x65\156\x67\x74\150", 0, "\165\x73\145\137\144\145\146\x61\165\x6c\x74\x5f\x76\141\x6c\165\145"), self::aqasygcsqysmmyke($product)); } public static function wciqcqwsswuayouy($product) : int { return DecoratorHook::sscegwueamckwmcy("\167\x6f\157\x63\x6f\x6d\155\x65\162\x63\145\137\163\165\x62\163\x63\x72\x69\x70\x74\151\x6f\156\163\x5f\x70\x72\157\144\165\143\164\x5f\160\145\x72\151\x6f\144\x5f\x69\x6e\164\145\162\166\141\154", self::kymakekgqcqyqgmy($product, "\x73\165\x62\x73\143\162\x69\160\164\151\157\x6e\137\160\x65\x72\x69\157\144\x5f\x69\156\164\x65\162\166\x61\x6c", 1, "\x75\163\x65\x5f\x64\145\146\141\165\x6c\164\137\166\141\154\x75\x65"), self::aqasygcsqysmmyke($product)); } public static function cskqgsqgkquceimo($product) : string { return DecoratorHook::sscegwueamckwmcy("\167\x6f\x6f\x63\157\x6d\x6d\145\162\x63\145\137\163\165\142\x73\143\162\x69\x70\x74\151\x6f\x6e\x73\x5f\160\x72\157\x64\x75\x63\x74\x5f\x70\145\162\x69\x6f\x64", self::kymakekgqcqyqgmy($product, "\x73\x75\x62\x73\143\x72\151\x70\x74\x69\157\x6e\137\160\x65\162\x69\157\144", ''), self::aqasygcsqysmmyke($product)); } public static function gywoouyaaigoskoc() : array { $scumyeasgcsssmko = ["\144\141\171", "\167\145\x65\153", "\x6d\x6f\156\x74\x68", "\x79\x65\141\x72"]; foreach ($scumyeasgcsssmko as $ymmgciamciieaysq) { $isuywoqqseygywkq = []; $mckmacgukqcegscg = [_x("\x4e\145\x76\x65\x72\40\145\170\x70\x69\162\145", "\x53\x75\142\x73\x63\x72\151\160\x74\x69\157\156\40\154\145\x6e\147\x74\x68", PR__CTM__PMPR)]; switch ($ymmgciamciieaysq) { case "\144\141\171": $mckmacgukqcegscg[] = _x("\x31\x20\144\141\x79", "\123\x75\142\x73\x63\x72\x69\160\x74\x69\x6f\156\x20\x6c\x65\x6e\147\164\150\x73\x2e\40\x65\x2e\x67\x2e\40\42\x46\x6f\x72\x20\61\40\x64\141\x79\56\x2e\56\x22", PR__CTM__PMPR); $isuywoqqseygywkq = range(2, 90); goto ugqaaewwmkocwwgy; case "\167\145\x65\x6b": $mckmacgukqcegscg[] = _x("\61\x20\167\145\145\x6b", "\123\165\x62\x73\143\x72\x69\x70\x74\x69\x6f\156\40\154\x65\156\147\164\150\163\56\40\145\56\x67\56\x20\x22\x46\157\162\x20\61\40\x77\x65\145\x6b\x2e\56\x2e\42", PR__CTM__PMPR); $isuywoqqseygywkq = range(2, 52); goto ugqaaewwmkocwwgy; case "\x6d\x6f\156\164\150": $mckmacgukqcegscg[] = _x("\x31\40\155\x6f\x6e\164\x68", "\x53\165\x62\163\143\x72\151\x70\164\x69\157\156\40\x6c\145\x6e\x67\164\150\163\x2e\x20\x65\56\x67\x2e\40\x22\106\x6f\162\x20\x31\40\x6d\157\156\x74\150\x2e\x2e\56\x22", PR__CTM__PMPR); $isuywoqqseygywkq = range(2, 24); goto ugqaaewwmkocwwgy; case "\171\x65\x61\x72": $mckmacgukqcegscg[] = _x("\61\x20\x79\x65\141\x72", "\123\165\142\163\x63\x72\x69\160\164\x69\157\x6e\x20\x6c\145\x6e\x67\164\x68\x73\x2e\x20\x65\x2e\147\x2e\x20\x22\106\157\x72\40\61\x20\171\145\141\x72\x2e\56\x2e\42", PR__CTM__PMPR); $isuywoqqseygywkq = range(2, 5); goto ugqaaewwmkocwwgy; } wgewmqieuamsoayy: ugqaaewwmkocwwgy: foreach ($isuywoqqseygywkq as $eusockqasqqmoess) { $isuywoqqseygywkq[$eusockqasqqmoess] = self::qwkgiacgsiuokomo($eusockqasqqmoess, $ymmgciamciieaysq); ueigkucgaucgeimc: } kqgcyoscsusgoaqi: $mckmacgukqcegscg += $isuywoqqseygywkq; $mayqaoqwuwwgssiy[$ymmgciamciieaysq] = $mckmacgukqcegscg; omqiayeucoioqoao: } igooksugieceoege: return $mayqaoqwuwwgssiy; } public static function geeyaumoyycymeks($product = null) : bool { $geeyaumoyycymeks = $eoioyuyammuoecgs = false; $product = self::aqasygcsqysmmyke($product); if (!$product) { goto wkeuuycukmuqiaom; } $eoioyuyammuoecgs = self::omwkqcuwceweymcc($product); if (!$product->is_type([self::SUBSCRIPTION_TYPE, self::SUBSCRIPTION_VARIATION_TYPE, self::VARIABLE_SUBSCRIPTION_TYPE])) { goto sggawugoykqcmsug; } $geeyaumoyycymeks = true; sggawugoykqcmsug: wkeuuycukmuqiaom: return DecoratorHook::sscegwueamckwmcy("\x77\157\x6f\x63\x6f\155\155\145\x72\x63\x65\137\x69\163\137\x73\x75\x62\163\x63\x72\x69\x70\x74\151\157\156", $geeyaumoyycymeks, $eoioyuyammuoecgs, $product); } public static function qwkgiacgsiuokomo($eusockqasqqmoess = 1, $ymmgciamciieaysq = '') { $scumyeasgcsssmko = DecoratorHook::sscegwueamckwmcy("\167\157\x6f\x63\157\x6d\155\145\162\x63\145\137\163\165\x62\163\x63\162\151\x70\164\x69\157\156\x5f\x70\x65\162\x69\157\144\163", [ "\144\141\x79" => sprintf(_nx("\x64\x61\171", "\x25\x73\40\x64\141\x79\163", $eusockqasqqmoess, "\123\165\x62\163\143\162\x69\x70\x74\x69\x6f\156\x20\142\x69\x6c\154\x69\x6e\x67\x20\x70\145\x72\151\x6f\x64\56", PR__CTM__PMPR), $eusockqasqqmoess), "\x77\x65\x65\x6b" => sprintf(_nx("\x77\x65\145\153", "\x25\x73\x20\167\x65\145\x6b\x73", $eusockqasqqmoess, "\123\165\142\x73\143\162\x69\160\x74\151\x6f\x6e\x20\x62\x69\154\x6c\151\x6e\x67\40\x70\x65\x72\x69\x6f\x64\x2e", PR__CTM__PMPR), $eusockqasqqmoess), "\155\x6f\x6e\x74\x68" => sprintf(_nx("\x6d\x6f\x6e\164\150", "\x25\163\x20\x6d\157\x6e\164\150\163", $eusockqasqqmoess, "\123\x75\x62\x73\143\x72\x69\x70\164\151\157\x6e\x20\x62\151\154\x6c\x69\x6e\x67\x20\160\x65\162\x69\x6f\144\56", PR__CTM__PMPR), $eusockqasqqmoess), "\171\x65\x61\162" => sprintf(_nx("\171\x65\x61\162", "\x25\163\40\171\145\x61\162\x73", $eusockqasqqmoess, "\123\x75\x62\163\x63\x72\x69\x70\x74\x69\x6f\x6e\40\142\151\154\154\151\156\x67\40\x70\145\162\151\x6f\144\56", PR__CTM__PMPR), $eusockqasqqmoess), ], $eusockqasqqmoess); return !empty($ymmgciamciieaysq) ? $scumyeasgcsssmko[$ymmgciamciieaysq] : $scumyeasgcsssmko; } public static function giouwewgcickgaeu($product, $ooiewiwkegguusum = []) : ?string { $aumscagymwyyicag = ''; $product = self::aqasygcsqysmmyke($product); if (!self::geeyaumoyycymeks($product)) { goto msemumccgceyugmg; } $ooiewiwkegguusum = ManipulateFormat::omaawkkwwyesqwcc($ooiewiwkegguusum, ["\x74\141\170\137\x63\x61\x6c\143\x75\x6c\x61\164\151\157\156" => DecoratorOption::get("\x77\157\x6f\143\157\155\x6d\x65\162\x63\145\137\164\x61\x78\x5f\x64\151\x73\160\x6c\x61\171\137\163\150\157\x70"), "\163\165\142\163\143\162\151\160\164\x69\157\156\x5f\x70\x72\x69\x63\x65" => true]); $ooiewiwkegguusum = DecoratorHook::sscegwueamckwmcy("\x77\x6f\x6f\x63\157\x6d\155\x65\162\143\145\137\163\x75\142\x73\143\x72\x69\x70\164\x69\x6f\x6e\x73\137\160\162\157\144\165\143\x74\x5f\x70\x72\151\x63\145\137\x73\x74\162\151\x6e\147\137\151\156\x63\154\x75\x73\x69\157\156\x73", $ooiewiwkegguusum, $product); $owwksgagiossaooa = self::owuaywucuaiyocum($product); if ($ooiewiwkegguusum["\x74\141\x78\137\143\x61\x6c\143\165\x6c\141\x74\151\157\x6e"]) { goto owmuceyswmgueasi; } $aumscagymwyyicag = $ooiewiwkegguusum["\x70\x72\151\143\x65"] ?? DecoratorWoocommerce::aumscagymwyyicag($owwksgagiossaooa); goto mwsmsguqqkcwiiuk; owmuceyswmgueasi: if (in_array($ooiewiwkegguusum["\164\141\x78\x5f\143\141\x6c\143\x75\154\141\x74\x69\x6f\156"], ["\145\170\143\x6c\x75\144\145\x5f\164\141\x78", "\x65\170\x63\x6c"], true)) { goto wakmayaoqoskekqy; } $aumscagymwyyicag = $ooiewiwkegguusum["\x70\x72\151\143\145"] ?? DecoratorWoocommerce::oeiymaksaoqaeqkk($product); goto qmuwoecuacmkwgem; wakmayaoqoskekqy: $aumscagymwyyicag = $ooiewiwkegguusum["\160\x72\151\x63\145"] ?? DecoratorWoocommerce::uewkmqiiguwwscwy($product); qmuwoecuacmkwgem: mwsmsguqqkcwiiuk: $aumscagymwyyicag .= "\40\x3c\163\x70\x61\x6e\x20\x63\154\141\x73\163\x3d\x22\x73\165\142\x73\x63\162\151\x70\164\151\157\156\55\x64\145\164\x61\x69\x6c\x73\x22\x3e"; if ($ooiewiwkegguusum["\x73\x75\142\x73\143\162\151\160\164\151\x6f\x6e\137\160\162\x69\x63\145"]) { goto eeauyscekuckoues; } $meyskcssumkecyqm = "\x3c\x73\x70\x61\156\40\x63\x6c\141\x73\x73\75\42\x73\165\x62\163\x63\162\151\x70\x74\x69\x6f\156\x2d\144\145\164\141\151\154\x73\x22\76"; goto eogwckcymuugikuy; eeauyscekuckoues: $meyskcssumkecyqm = $aumscagymwyyicag; eogwckcymuugikuy: $meyskcssumkecyqm .= "\74\57\163\x70\141\x6e\x3e"; $aumscagymwyyicag = DecoratorHook::sscegwueamckwmcy("\167\157\x6f\x63\157\x6d\x6d\x65\162\x63\145\x5f\x73\165\x62\163\x63\x72\x69\160\x74\151\x6f\x6e\x73\x5f\160\x72\157\x64\x75\x63\164\x5f\x70\162\x69\x63\x65\137\163\x74\x72\x69\156\147", $meyskcssumkecyqm, $product, $ooiewiwkegguusum); msemumccgceyugmg: return $aumscagymwyyicag; } public static function kymakekgqcqyqgmy(string $uusmaiomayssaecw, $product, $ggauoeuaesiymgee = null, $empty_handling = "\x61\154\154\157\167\137\145\x6d\x70\164\171") { $product = self::aqasygcsqysmmyke($product); $eqgoocgaqwqcimie = $ggauoeuaesiymgee; if (!self::geeyaumoyycymeks($product)) { goto asiqwuoswmigcaki; } if (method_exists($product, "\155\145\x74\x61\137\x65\170\x69\x73\164\163")) { goto iwsuawwqomaowuii; } if (!isset($product->{$uusmaiomayssaecw})) { goto qoqskyuuwueqkquk; } $eqgoocgaqwqcimie = $product->{$uusmaiomayssaecw}; qoqskyuuwueqkquk: goto wcugqegqsuuuwqao; iwsuawwqomaowuii: $mqokiegceimuwcum = ManipulateString::yaaoeasygeggswcq($uusmaiomayssaecw); if (!$product->meta_exists($mqokiegceimuwcum)) { goto wagqgeqymeqoeuyi; } $eqgoocgaqwqcimie = $product->get_meta($mqokiegceimuwcum, true); wagqgeqymeqoeuyi: wcugqegqsuuuwqao: asiqwuoswmigcaki: if (!("\x75\x73\x65\x5f\144\x65\146\141\165\x6c\164\137\x76\141\x6c\x75\x65" === $empty_handling && empty($eqgoocgaqwqcimie))) { goto ciykoyeioqgyaeqo; } $eqgoocgaqwqcimie = $ggauoeuaesiymgee; ciykoyeioqgyaeqo: return $eqgoocgaqwqcimie; } public static function yaawkocgyswmsiqg($product) : bool { $product = self::aqasygcsqysmmyke($product); $ommmugiuyqwqggii = true; switch ($product->get_type()) { case self::SUBSCRIPTION_TYPE: case self::VARIABLE_SUBSCRIPTION_TYPE: if (!(false === self::is_purchasable_product($product))) { goto emmsycooskoqmgeg; } $ommmugiuyqwqggii = false; emmsycooskoqmgeg: goto mqicocmqegwukkwg; case self::SUBSCRIPTION_VARIATION_TYPE: $kwmywaaoacqyqymc = self::aqasygcsqysmmyke($product->get_parent_id()); if (!("\156\x6f" != wcs_get_product_limitation($kwmywaaoacqyqymc) && !empty(WC()->cart->cart_contents) && !wcs_is_order_received_page() && !wcs_is_paypal_api_page())) { goto wyuemgggaqogsmsq; } if ("\x6e\157" === get_option(WC_Subscriptions_Admin::$option_prefix . "\137\x6d\x75\x6c\164\151\x70\154\x65\x5f\160\165\162\x63\150\141\x73\x65", "\x6e\157")) { goto oomguqikqokqwgku; } foreach (WC()->cart->cart_contents as $cart_item) { if (!($product->get_parent_id() == wcs_get_objects_property($cart_item["\144\141\x74\x61"], "\160\x61\x72\145\156\x74\x5f\x69\x64") && $product->get_id() != $cart_item["\x64\141\164\141"]->get_id())) { goto acsqgiuageaasiyy; } $ommmugiuyqwqggii = false; goto ouamogymawucwswu; acsqgiuageaasiyy: mugqyyeayeyggqqk: } ouamogymawucwswu: goto samwkqgwouggsguc; oomguqikqokqwgku: $ommmugiuyqwqggii = true; samwkqgwouggsguc: wyuemgggaqogsmsq: goto mqicocmqegwukkwg; } qgeugwymkkiacwoc: mqicocmqegwukkwg: return $ommmugiuyqwqggii; } public static function is_purchasable_product($is_purchasable, $product) { if (isset(self::$is_purchasable_cache[$product->get_id()]["\x73\x74\x61\x6e\144\141\x72\144"])) { goto miweggwqeiaeweia; } self::$is_purchasable_cache[$product->get_id()]["\163\x74\141\x6e\144\141\x72\x64"] = $is_purchasable; if (!(WC_Subscriptions_Product::is_subscription($product->get_id()) && "\x6e\157" != wcs_get_product_limitation($product) && !wcs_is_order_received_page() && !wcs_is_paypal_api_page())) { goto kkumywowcoycymeo; } if (!(wcs_is_product_limited_for_user($product) && !self::order_awaiting_payment_for_product($product->get_id()))) { goto guykyqecgswcsmws; } self::$is_purchasable_cache[$product->get_id()]["\163\x74\141\x6e\x64\141\x72\144"] = false; guykyqecgswcsmws: kkumywowcoycymeo: miweggwqeiaeweia: return self::$is_purchasable_cache[$product->get_id()]["\163\x74\141\x6e\144\x61\162\x64"]; } }
